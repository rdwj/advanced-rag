apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Valkey for caching, session storage, and pub/sub messaging
# Valkey is the Linux Foundation fork of Redis (API-compatible)
#
# Deploy to any namespace:
#   NAMESPACE=valkey
#   oc new-project $NAMESPACE
#   oc apply -k databases/valkey/openshift/ -n $NAMESPACE
#
# Wait for pod:
#   oc wait --for=condition=Ready pods -l app=valkey -n $NAMESPACE --timeout=120s
#
# The namespace is NOT hardcoded, allowing deployment to any namespace.

resources:
  - secret.yaml
  - pvc.yaml
  - deployment.yaml
  - service.yaml

labels:
  - pairs:
      app.kubernetes.io/part-of: advanced-rag
    includeSelectors: false
