apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# PGVector (PostgreSQL + pgvector extension) for vector storage
#
# Deploy to your namespace:
#   NAMESPACE=pgvector  # Change to your desired namespace
#   oc create namespace $NAMESPACE
#   oc apply -k databases/pgvector/openshift/ -n $NAMESPACE
#
# The namespace is NOT hardcoded here, allowing deployment to any namespace.

resources:
  - secret.yaml
  - configmap.yaml
  - pvc.yaml
  - deployment.yaml
  - service.yaml

labels:
  - pairs:
      app.kubernetes.io/part-of: advanced-rag
    includeSelectors: false

# Environment-specific overlays can be added here in the future:
# Example structure:
#   databases/pgvector/openshift/
#   ├── base/           # Move current files here
#   │   ├── kustomization.yaml
#   │   ├── deployment.yaml
#   │   └── ...
#   └── overlays/
#       ├── dev/
#       │   └── kustomization.yaml  # patches for dev (smaller resources)
#       ├── staging/
#       │   └── kustomization.yaml  # patches for staging
#       └── prod/
#           └── kustomization.yaml  # patches for prod (larger resources, replicas)
